.TH danetool 1 "02 Jan 2013" "3.1.6" "User Commands"
.\"
.\"  DO NOT EDIT THIS FILE   (danetool-args.man)
.\"  
.\"  It has been AutoGen-ed  January  2, 2013 at 07:41:24 PM by AutoGen 5.16
.\"  From the definitions    danetool-args.def.tmp
.\"  and the template file   agman-cmd.tpl
.\"
.SH NAME
danetool \- GnuTLS DANE tool
.SH SYNOPSIS
.B danetool
.\" Mixture of short (flag) options and long options
.RB [ \-\fIflag\fP " [\fIvalue\fP]]... [" \-\-\fIopt\-name\fP " [[=| ]\fIvalue\fP]]..."
.PP
All arguments must be options.
.PP
.SH "DESCRIPTION"
Tool to generate DNS resource records for the DANE protocol.
.SH "OPTIONS"
.TP
.BR \-d " \fInumber\fP, " \-\-debug "=" \fInumber\fP
Enable debugging..
This option takes an integer number as its argument.
The value of \fInumber\fP is constrained to being:
.in +4
.nf
.na
in the range  0 through 9999
.fi
.in -4
.sp
Specifies the debug level.
.TP
.BR \-V ", " -\-verbose
More verbose output.
This option may appear an unlimited number of times.
.sp
.TP
.BR \-\-infile "=\fIfile\fP"
Input file.
.sp
.TP
.BR \-\-outfile "=\fIstring\fP"
Output file.
.sp
.TP
.BR \-\-load\-pubkey "=\fIstring\fP"
Loads a public key file.
.sp
This can be either a file or a PKCS #11 URL
.TP
.BR \-\-load\-certificate "=\fIstring\fP"
Loads a certificate file.
.sp
This can be either a file or a PKCS #11 URL
.TP
.BR \-\-hash "=\fIstring\fP"
Hash algorithm to use for signing..
.sp
Available hash functions are SHA1, RMD160, SHA256, SHA384, SHA512.
.TP
.BR \-\-check "=\fIstring\fP"
Check a host's DANE TLSA entry..
.sp
Obtains the DANE TLSA entry from the given hostname and prints information.
.TP
.BR \-\-local\-dns, " \fB\-\-no\-local\-dns\fP"
Use the local DNS server for DNSSEC resolving..
The \fIno\-local\-dns\fP form will disable the option.
.sp
This option will use the local DNS server for DNSSEC.
This is disabled by default due to many servers not allowing DNSSEC.
.TP
.BR \-\-inder, " \fB\-\-no\-inder\fP"
Use DER format for input certificates and private keys..
The \fIno\-inder\fP form will disable the option.
.sp
The input files will be assumed to be in DER or RAW format. 
Unlike options that in PEM input would allow multiple input data (e.g. multiple 
certificates), when reading in DER format a single data structure is read.
.TP
.BR \-\-inder
This is an alias for the inder option.
.TP
.BR \-\-tlsa\-rr
Print the DANE RR data on a certificate or public key.
This option must appear in combination with the following options:
host.
.sp
This command prints the DANE RR data needed to enable DANE on a DNS server.
.TP
.BR \-\-host "=\fIhostname\fP"
Specify the hostname to be used in the DANE RR.
.sp
This command sets the hostname for the DANE RR.
.TP
.BR \-\-proto "=\fIprotocol\fP"
The protocol set for DANE data (tcp, udp etc.).
.sp
This command specifies the protocol for the service set in the DANE data.
.TP
.BR \-\-port "=\fInumber\fP"
Specify the port number for the DANE data..
This option takes an integer number as its argument.
.sp
.TP
.BR \-\-ca
Whether the provided certificate or public key is a Certificate Authority..
.sp
Marks the DANE RR as a CA certificate if specified.
.TP
.BR \-\-x509
Use the hash of the X.509 certificate, rather than the public key..
.sp
This option forces the generated record to contain the hash of the full X.509 certificate. By default only the hash of the public key is used.
.TP
.BR \-\-local
The provided certificate or public key is a local entity..
.sp
DANE distinguishes certificates and public keys offered via the DNSSEC to trusted and local entities. Use this flag if this is a local (and possibly unsigned) entity.
.TP
.BR \-h , " \-\-help"
Display usage information and exit.
.TP
.BR \-! , " \-\-more-help"
Pass the extended usage information through a pager.
.TP
.BR \-v " [{\fIv|c|n\fP}]," " \-\-version" "[=\fI{v|c|n}\fP]"
Output version of program and exit.  The default mode is `v', a simple
version.  The `c' mode will print copyright information and `n' will
print the full copyright notice.
.SH EXAMPLES
.br
\fBDANE TLSA RR generation\fP
.br
.sp
To create a DANE TLSA resource record for a CA signed certificate use the following commands.
.sp
.br
.in +4
.nf
$ danetool \-\-tlsa\-rr \-\-host www.example.com \-\-load\-certificate cert.pem
.in -4
.fi
.sp
For a self signed certificate use:
.br
.in +4
.nf
$ danetool \-\-tlsa\-rr \-\-host www.example.com \-\-load\-certificate cert.pem \
  \-\-local
.in -4
.fi
.sp
The latter is useful to add in your DNS entry even if your certificate is signed 
by a CA. That way even users who do not trust your CA will be able to verify your
certificate using DANE.
.sp
In order to create a record for the signer of your certificate use:
.br
.in +4
.nf
$ danetool \-\-tlsa\-rr \-\-host www.example.com \-\-load\-certificate cert.pem \
  \-\-ca
.in -4
.fi
.sp
To read a server's DANE TLSA entry, use:
.br
.in +4
.nf
$ danetool \-\-check www.example.com \-\-proto tcp \-\-port 443
.in -4
.fi
.sp
To verify a server's DANE TLSA entry, use:
.br
.in +4
.nf
$ danetool \-\-check www.example.com \-\-proto tcp \-\-port 443 \-\-load\-certificate chain.pem
.in -4
.fi
.SH "EXIT STATUS"
One of the following exit values will be returned:
.TP
.BR 0 " (EXIT_SUCCESS)"
Successful program execution.
.TP
.BR 1 " (EXIT_FAILURE)"
The operation failed or the command syntax was not valid.
.SH "SEE ALSO"
    certtool (1)
.SH "AUTHORS"
Nikos Mavrogiannopoulos, Simon Josefsson and others; see /usr/share/doc/gnutls-bin/AUTHORS for a complete list.
.SH "COPYRIGHT"
Copyright (C) 2000-2012 Free Software Foundation all rights reserved.
This program is released under the terms of the GNU General Public License, version 3 or later.
.SH "BUGS"
Please send bug reports to: bug-gnutls@gnu.org
.SH "NOTES"
This manual page was \fIAutoGen\fP-erated from the \fBdanetool\fP
option definitions.
